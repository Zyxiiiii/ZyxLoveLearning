# 绪论

## 数据库系统概述

### 数据、数据库、数据库管理系统、数据库系统

  - 数据（`Data`）
    
    **数据**是数据库中存储的基本对象
    
    定义：描述事物的**符号记录**称为数据。它们都可以*经过数字化*后存入计算机。
    
  - 数据库（`DataBase`，`DB`）

    数据库是长期存储在计算机内，有组织的、可共享的大量数据的集合
    
    数据库数据具有**永久存储**、**有组织**和**可共享**三个基本特点
    
  - 数据库管理系统（`DataBase Management System`，`DBMS`）

    主要功能
    
    - 数据定义功能

      `DBMS`提供数据定义语言（`Data Definition Language`，`DDL`）供给用户方便地对数据库中的数据对象进行定义
      
    - 数据组织、存储和管理

      `DBMS`要分类、组织和管理各种数据（数据字典、用户数据、数据存储路径……）
      
    - 数据操纵功能

      `DBMS`提供数据操纵语言（`Data Manipulation Language`，`DML`）共给用户对数据库中的数据进行增删查改（CRUD）
      
    - 数据库的事务管理和运行管理

      数据库在建立、运用和维护时由数据库管理系统统一管理、统一控制，以保证数据的**安全性**、**完整性**、**多用户对数据的并发性**以及**发生故障后的系统恢复**
      
    - 数据库的建立和维护功能

      数据库初始数据的输入、转换功能、数据库的转储、恢复，数据库的重组织功能和性能监视、分析功能等
    
  - 数据库系统（`DataBase System`，`DBS`）

    组成
    
    - 数据库

    - 数据库管理系统（以及其开发工具）

    - 应用系统

    - 数据库管理员（`DataBase Administrator`）

### 数据管理技术的产生和发展

  数据管理技术经历了人工管理、文件系统、数据库系统3个阶段

  - 人工管理阶段

    人工管理阶段有如下特点
    
    - 数据不保存

    - 应用程序管理数据

    - 数据不共享

    - 数据不具有独立性

    缺点：数据的逻辑结构或物理结构发生改变后，需要对相应的应用程序作相应的修改，加重了程序员的负担
    
  - 文件系统阶段

    特点
    
    - 数据可以长期保存

    - 由文件系统管理数据

    缺点
    
    - 数据共享性差，冗余度大

    - 数据独立性差

  - 数据库系统阶段

    特点
    
    - 数据结构化

    - 数据的共享性高，冗余度低，易扩充

    - 数据独立性高

    - 数据由`DBMS`统一管理和控制

## 数据模型

  数据模型（`Data Model`）是对**现实世界的模拟**

### 两类数据模型

  数据模型应该满足以下需求

  - 能较真实地模拟现实世界

  - 容易为人所理解

  - 便于在计算机上实现

  根据应用目的的不同，可大致分为以下两类模型：

  - 概念模型（信息模型）

    根据用户的观点来对数据和信息建模，用于**数据库设计**

  - 逻辑模型+物理模型

    - **逻辑模型**主要包括*层次模型（Hierarchial Model）*、*网状模型（Network Model）*、*关系模型（Relational Model）*、*面向对象模型（Object Oriented Model）*和*对象关系模型（Object Relational Model）*等，它按照计算机系统的观点对数据建模，主要**用于`DBMS`的实现**

    - **物理模型**是对数据最底层的抽象，描述数据在计算机系统内部的表示方式和存取方法，在磁盘上的存储方式和存取方法，是**面向计算机系统**的

### 数据模型的组成要素

  数据模型通常由**数据结构**、**数据操作**、**完整性约束**三部分组成

  - 数据结构

    数据库的组成对象以及对象之间的联系，描述的是**对象类型的集合**，对系统静态特性的描述

  - 数据操作

    **增删查改（CRUD）**，数据操作是对系统动态特性的描述
    
  - 完整性约束

    一组完整性**规则**，在关系模型中，任何关系必须满足实体完整性和参照完整性

### 概念模型

  概念模型是现实世界到机器世界的一个中间层次，表现为：

- 概念模型用于信息世界的建模
- 现实世界到信息世界的第一层抽象
- 数据库设计人员进行数据库设计的有力工具
- 数据库设计人员和用户之间进行交流的语言

  概念模型要求：

- 具有较强的语义表达能力
- 能够方便、直接表达应用中的各种语义知识
- 简单、清晰、易于用户理解

#### 信息世界中的基本概念

- 实体（`Entity`）

  **客观存在并且可以相互区别的事物**称为实体。例如：一门课、一个人、一个班级……

- 属性（`Attribute`）

  **实体所具有的某一特性**称为属性，一个实体一般具有若干个属性

- 码（`Key`）

  **唯一标识实体的属性集**称为码。例如：学号是学生实体的码

- 域（`Domain`）

  域是**一组具有相同数据类型的值的集合**，属性的取值范围来自于某个域。例如：性别的域是（男，女）

- 实体型（`Entity Type`）

  具有相同属性的实体必然具有共同的特征和特质，用**实体名以及其属性名的集合来抽象刻画同类实体**，那么这就是一个实体型（包含实体名和属性名的集合）

- 实体集（`Entity Set`）

  **同一类实体的集合**称为实体集

- ==联系==（`Relationship`）

  实体集和实体集之间或实体集的内部各实体之间一般存在着某种联系，它反映了现实世界中事物与事物之间的联系

#### 两个实体集之间的联系

- 一对一联系（记为`1:1`）

  对于实体集`A`中的每一个实体，在实体集`B`中**至多**有一个（可以没有）实体与其联系

- 一对多联系（记为`1:n`）

  对于实体集`A`中的每一个实体，在实体集`B`中有 $n$ 个（ $n \ge 0$ ）实体与其联系

- 多对多联系（记为`m:n`）

  对于实体集`A`中的每一个实体，在实体集`B`中有 $n$ 个（ $n \ge 0$ ）实体与其联系，反之，对于实体集`B`中的每一个实体，在实体集`A`中有 $m$ 个（ $m \ge 0$ ）实体与其联系

  Tips：实际上`1:1`是`1:n`的特例，`1:n`也是`n:m`的特例

#### 单个实体集内的联系

  同一个实体集的各实体之间也可以存在一对一、一对多、多对多的联系

#### 概念模型的一种表示方法：实体——联系图（E-R图）

  E-R图提供了表示实体型、属性和联系的方法

> 实体型：*用矩形表示*，矩形框内写明实体名
>
> 属性：*用椭圆形表示*，并用无向边将其与相应的实体型连接起来
>
> 联系：*用菱形表示*，菱形框内写明联系名，并用无向边分别与有关实体形连接起来，同时在无向边旁标上联系的类型（Tips：如果一个联系具有属性，则这些属性也要用无向边与该联系连接起来）
>
> 一般将E-R图分为实体以及其属性的E-R图和实体以及其联系的E-R图，在画实体以及其联系的E-R图的时候会将实体的属性隐藏起来，方便我们去查看联系，避免图形太多导致E-R图显得很混乱，最后组合成完整的E-R图的时候再把属性加上

